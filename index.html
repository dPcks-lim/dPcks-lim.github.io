<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>독일어 명사 탐색기</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 300px;
            margin-left: auto;
            margin-right: auto;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        
        .vocab-card {
            border-top-width: 4px;
            transition: all 0.3s ease;
        }
        
        .card-der { border-color: #3B82F6; }
        .card-die { border-color: #EF4444; }
        .card-das { border-color: #10B981; }
        .card-multi { border-color: #A855F7; }

        .filter-btn.active {
            background-color: #3B82F6;
            color: white;
            border-color: #3B82F6;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <!-- Chosen Palette: Calm Neutrals (slate) with Gender-based Accents (blue, red, green) -->
    <!-- Application Structure Plan: "대시보드 + 대화형 탐색기" 구조를 선택했습니다. 1) '대시보드' 섹션은 차트와 핵심 통계(총 단어 수, 성별 개수)를 제공하여 데이터의 전체적인 개요를 보여줍니다. 2) '대화형 탐색기' 섹션은 사용자의 핵심 과제인 '학습'과 '검색'에 집중합니다. 사용자는 필터 버튼(전체, der, die, das)과 실시간 검색창을 통해 100개가 넘는 데이터를 즉시 필터링하고 탐색할 수 있습니다. 이 구조는 정적인 보고서(목록)를 유용한 '학습 도구'로 변환하는 가장 효과적인 방법입니다. -->
    <!-- Visualization & Content Choices: 1) 명사 성별 분포 -> 목표: 정보(Inform) -> 시각화: 도넛 차트 (Chart.js/Canvas) -> 상호작용: 호버 시 툴팁으로 정확한 개수 표시 -> 정당성: 세 그룹(der, die, das)의 비율을 한눈에 명확하게 보여줌. 2) 전체 명사 목록 -> 목표: 탐색/검색(Explore/Organize) -> 시각화: 동적 HTML 카드 그리드 (Tailwind) -> 상호작용: '성별 필터링' 버튼과 '한/독 실시간 검색' 입력창. JS가 데이터 배열을 필터링하여 카드 목록을 즉시 다시 렌더링함. -> 정당성: 정적인 테이블보다 모바일 친화적이며, 사용자가 원하는 정보를 가장 빠르게 찾을 수 있는 방법임. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <div class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

        <header class="text-center my-8">
            <h1 class="text-4xl font-bold text-slate-800">독일어 명사 탐색기</h1>
            <p class="text-lg text-slate-600 mt-2">Lektion 1-3 (성별 분류)</p>
        </header>

        <main>
            <!-- 1. 대시보드 섹션 -->
            <section id="dashboard" class="bg-white p-6 rounded-2xl shadow-lg mb-10">
                <h2 class="text-2xl font-semibold text-slate-700 mb-4">요약 대시보드</h2>
                <p class="text-slate-600 mb-6">
                    이 보고서는 Lektion 1-3의 독일어 명사 117개를 분석합니다. 각 명사는 남성(der), 여성(die), 중성(das)의 '성'을 가지며, 이는 문법적으로 매우 중요합니다. 아래 차트는 수집된 단어들의 성별 분포를 보여줍니다.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-slate-100 p-4 rounded-lg text-center">
                                <span class="text-sm text-slate-500">총 단어 수</span>
                                <p id="totalCount" class="text-3xl font-bold text-slate-900"></p>
                            </div>
                            <div class="bg-blue-100 p-4 rounded-lg text-center">
                                <span class="text-sm text-blue-600">DER (남성)</span>
                                <p id="derCount" class="text-3xl font-bold text-blue-700"></p>
                            </div>
                            <div class="bg-red-100 p-4 rounded-lg text-center">
                                <span class="text-sm text-red-600">DIE (여성)</span>
                                <p id="dieCount" class="text-3xl font-bold text-red-700"></p>
                            </div>
                            <div class="bg-green-100 p-4 rounded-lg text-center">
                                <span class="text-sm text-green-600">DAS (중성)</span>
                                <p id="dasCount" class="text-3xl font-bold text-green-700"></p>
                            </div>
                        </div>
                    </div>
                    <div class="md:col-span-2 flex justify-center items-center">
                        <div class="chart-container">
                            <canvas id="genderChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 2. 대화형 탐색기 섹션 -->
            <section id="explorer" class="bg-white p-6 rounded-2xl shadow-lg">
                <h2 class="text-2xl font-semibold text-slate-700 mb-4">대화형 탐색기</h2>
                <p class="text-slate-600 mb-6">
                    아래에서 성별 필터 버튼을 클릭하거나, 한국어 또는 독일어로 단어를 검색하여 전체 목록을 실시간으로 탐색할 수 있습니다.
                </p>

                <div class="flex flex-col md:flex-row gap-4 mb-6">
                    <div class="flex-shrink-0">
                        <div id="filterButtons" class="flex space-x-2 rounded-lg p-1 bg-slate-100">
                            <button data-filter="all" class="filter-btn active w-full md:w-auto px-4 py-2 rounded-md text-sm font-medium text-slate-700 hover:bg-white transition">전체</button>
                            <button data-filter="der" class="filter-btn w-full md:w-auto px-4 py-2 rounded-md text-sm font-medium text-blue-700 hover:bg-white transition">DER</button>
                            <button data-filter="die" class="filter-btn w-full md:w-auto px-4 py-2 rounded-md text-sm font-medium text-red-700 hover:bg-white transition">DIE</button>
                            <button data-filter="das" class="filter-btn w-full md:w-auto px-4 py-2 rounded-md text-sm font-medium text-green-700 hover:bg-white transition">DAS</button>
                        </div>
                    </div>
                    <div class="flex-grow">
                        <input type="text" id="searchInput" placeholder="'사과' 또는 'Apfel'로 검색..." class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>

                <div class="mb-4 text-sm text-slate-600">
                    총 <strong id="resultCount" class="text-slate-800"></strong>개의 단어를 찾았습니다.
                </div>

                <div id="vocabListContainer" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- 단어 카드가 여기에 동적으로 삽입됩니다. -->
                </div>
            </section>
        </main>
        
        <footer class="text-center text-slate-500 text-sm mt-10 pb-6">
            독일어 명사 목록 Lektion 1-3 기반 대화형 리포트
        </footer>

    </div>

    <script>
        const vocabData = [
            { kor: '이름', sin: 'der Name', plu: 'die Namen', gen: 'der' },
            { kor: '성', sin: 'der Vorname', plu: 'die Vornamen', gen: 'der' },
            { kor: '커피', sin: 'der Kaffee', plu: '(nur Sg.)', gen: 'der' },
            { kor: '차', sin: 'der Tee', plu: '(nur Sg.)', gen: 'der' },
            { kor: '스포츠', sin: 'der Sport', plu: '(nur Sg.)', gen: 'der' },
            { kor: '축구', sin: '(der) Fußball', plu: '(nur Sg.)', gen: 'der' },
            { kor: '비', sin: 'der Regen', plu: '(nur Sg.)', gen: 'der' },
            { kor: '펜', sin: 'der Stift', plu: 'die Stifte', gen: 'der' },
            { kor: '열쇠', sin: 'der Schlüssel', plu: 'die Schlüssel', gen: 'der' },
            { kor: '립스틱', sin: 'der Lippenstift', plu: 'die Lippenstifte', gen: 'der' },
            { kor: '남자', sin: 'der Mann', plu: 'die Männer', gen: 'der' },
            { kor: '산', sin: 'der Berg', plu: 'die Berge', gen: 'der' },
            { kor: '축구공', sin: 'der Fußball', plu: 'die Fußbälle', gen: 'der' },
            { kor: '모자', sin: 'der Hut', plu: 'die Hüte', gen: 'der' },
            { kor: '와인', sin: 'der Wein', plu: '(nur Sg.)', gen: 'der' },
            { kor: '유로', sin: 'der Euro', plu: 'die Euros', gen: 'der' },
            { kor: '프랑(화폐)', sin: 'der Franken', plu: 'die Franken', gen: 'der' },
            { kor: '센트', sin: 'der Cent', plu: 'die Cents', gen: 'der' },
            { kor: '가격', sin: 'der Preis', plu: 'die Preise', gen: 'der' },
            { kor: '남자 제빵사', sin: 'der Bäcker', plu: 'die Bäcker', gen: 'der' },
            { kor: '남자 고객', sin: 'der Kunde', plu: 'die Kunden', gen: 'der' },
            { kor: '햄', sin: 'der Schinken', plu: 'die Schinken', gen: 'der' },
            { kor: '치즈', sin: 'der Käse', plu: '(nur Sg.)', gen: 'der' },
            { kor: '꿀', sin: 'der Honig', plu: '(nur Sg.)', gen: 'der' },
            { kor: '바구니', sin: 'der Korb', plu: 'die Körbe', gen: 'der' },
            { kor: '생선', sin: 'der Fisch', plu: 'die Fische', gen: 'der' },
            { kor: '간이 식당', sin: 'der Imbissstand', plu: 'die Imbissstände', gen: 'der' },
            { kor: '햄버거', sin: 'der Hamburger', plu: 'die Hamburger', gen: 'der' },
            { kor: '겨자', sin: 'der Senf', plu: '(nur Sg.)', gen: 'der' },
            { kor: '샐러드', sin: 'der Salat', plu: 'die Salate', gen: 'der' },
            { kor: '주스', sin: 'der Saft', plu: 'die Säfte', gen: 'der' },
            { kor: '사과 주스', sin: 'der Apfelsaft', plu: 'die Apfelsäfte', gen: 'der' },
            { kor: '배고픔', sin: 'der Hunger', plu: '(nur Sg.)', gen: 'der' },
            { kor: '목마름', sin: 'der Durst', plu: '(nur Sg.)', gen: 'der' },
            { kor: '디저트', sin: 'der Dessert', plu: 'die Desserts', gen: 'der' },
            { kor: '케이크', sin: 'der Kuchen', plu: 'die Kuchen', gen: 'der' },
            { kor: '사과', sin: 'der Apfel', plu: 'die Äpfel', gen: 'der' },
            { kor: '초콜릿', sin: 'die Schokolade', plu: '(nur Sg.)', gen: 'die' },
            { kor: '칩(감자칩)', sin: '(nur Pl.)', plu: 'die Chips', gen: 'die' },
            { kor: '음악', sin: 'die Musik', plu: '(nur Sg.)', gen: 'die' },
            { kor: '태양', sin: 'die Sonne', plu: '(nur Sg.)', gen: 'die' },
            { kor: '이메일', sin: 'die E-Mail', plu: 'die E-Mails', gen: 'die' },
            { kor: '가방', sin: 'die Tasche', plu: 'die Taschen', gen: 'die' },
            { kor: '병', sin: 'die Flasche', plu: 'die Flaschen', gen: 'die' },
            { kor: '안경', sin: 'die Brille', plu: 'die Brillen', gen: 'die' },
            { kor: '담배', sin: 'die Zigarette', plu: 'die Zigaretten', gen: 'die' },
            { kor: '신문', sin: 'die Zeitung', plu: 'die Zeitungen', gen: 'die' },
            { kor: '여자', sin: 'die Frau', plu: 'die Frauen', gen: 'die' },
            { kor: '도시', sin: 'die Stadt', plu: 'die Städte', gen: 'die' },
            { kor: '여가', sin: 'die Freizeit', plu: '(nur Sg.)', gen: 'die' },
            { kor: '터키', sin: 'die Türkei', plu: '(nur Sg.)', gen: 'die' },
            { kor: '미국', sin: '(nur Pl.)', plu: 'die USA', gen: 'die' },
            { kor: '언어', sin: 'die Sprache', plu: 'die Sprachen', gen: 'die' },
            { kor: '꽃', sin: 'die Blume', plu: 'die Blumen', gen: 'die' },
            { kor: '솔', sin: 'die Bürste', plu: 'die Bürsten', gen: 'die' },
            { kor: '엽서', sin: 'die Postkarte', plu: 'die Postkarten', gen: 'die' },
            { kor: '잔', sin: 'die Tasse', plu: 'die Tassen', gen: 'die' },
            { kor: '시계', sin: 'die Uhr', plu: 'die Uhren', gen: 'die' },
            { kor: '시간', sin: 'die Zeit', plu: '(nur Sg.)', gen: 'die' },
            { kor: '프레첼', sin: 'die Brezel', plu: 'die Brezeln', gen: 'die' },
            { kor: '여자 제빵사', sin: 'die Bäckerin', plu: 'die Bäckerinnen', gen: 'die' },
            { kor: '여자 고객', sin: 'die Kundin', plu: 'die Kundinnen', gen: 'die' },
            { kor: '버터', sin: 'die Butter', plu: '(nur Sg.)', gen: 'die' },
            { kor: '잼', sin: 'die Marmelade', plu: 'die Marmeladen', gen: 'die' },
            { kor: '우유', sin: 'die Milch', plu: '(nur Sg.)', gen: 'die' },
            { kor: '조각', sin: 'die Scheibe', plu: 'die Scheiben', gen: 'die' },
            { kor: '요리', sin: 'die Speise', plu: 'die Speisen', gen: 'die' },
            { kor: '피자', sin: 'die Pizza', plu: 'die Pizzen', gen: 'die' },
            { kor: '소시지', sin: 'die Wurst', plu: 'die Würste', gen: 'die' },
            { kor: '구운 소시지', sin: 'die Bratwurst', plu: 'die Bratwürste', gen: 'die' },
            { kor: '감자튀김', sin: '(nur Pl.)', plu: 'die Pommes frites', gen: 'die' },
            { kor: '마요네즈', sin: 'die Majonäse', plu: 'die Majonäsen', gen: 'die' },
            { kor: '콜라', sin: 'die Cola', plu: 'die Colas', gen: 'die' },
            { kor: '레몬에이드', sin: 'die Limonade', plu: 'die Limonaden', gen: 'die' },
            { kor: '토르테', sin: 'die Torte', plu: 'die Torten', gen: 'die' },
            { kor: '배(과일)', sin: 'die Birne', plu: 'die Birnen', gen: 'die' },
            { kor: '바나나', sin: 'die Banane', plu: 'die Bananen', gen: 'die' },
            { kor: '영화관', sin: 'das Kino', plu: 'die Kinos', gen: 'das' },
            { kor: '극장', sin: 'das Theater', plu: 'die Theater', gen: 'das' },
            { kor: '테니스', sin: 'das Tennis', plu: '(nur Sg.)', gen: 'das' },
            { kor: '전화기', sin: 'das Telefon', plu: 'die Telefone', gen: 'das' },
            { kor: '휴대폰', sin: 'das Handy', plu: 'die Handys', gen: 'das' },
            { kor: '책', sin: 'das Buch', plu: 'die Bücher', gen: 'das' },
            { kor: '지갑', sin: 'das Portmonee', plu: 'die Portmonees', gen: 'das' },
            { kor: '사진', sin: 'das Foto', plu: 'die Fotos', gen: 'das' },
            { kor: '공책', sin: 'das Heft', plu: 'die Hefte', gen: 'das' },
            { kor: '손수건', sin: 'das Taschentuch', plu: 'die Taschentücher', gen: 'das' },
            { kor: '단어', sin: 'das Wort', plu: 'die Wörter', gen: 'das' },
            { kor: '나라/시골', sin: 'das Land', plu: 'die Länder', gen: 'das' },
            { kor: '컴퓨터 게임', sin: 'das Computerspiel', plu: 'die Computerspiele', gen: 'das' },
            { kor: '레스토랑', sin: 'das Restaurant', plu: 'die Restaurants', gen: 'das' },
            { kor: '기념품', sin: 'das Souvenir', plu: 'die Souvenirs', gen: 'das' },
            { kor: '자동차', sin: 'das Auto', plu: 'die Autos', gen: 'das' },
            { kor: '맥주', sin: 'das Bier', plu: 'die Biere', gen: 'das' },
            { kor: '곰 젤리', sin: 'das Gummibärchen', plu: 'die Gummibärchen', gen: 'das' },
            { kor: '심장/마음', sin: 'das Herz', plu: 'die Herzen', gen: 'das' },
            { kor: '칼', sin: 'das Messer', plu: 'die Messer', gen: 'das' },
            { kor: '집', sin: 'das Haus', plu: 'die Häuser', gen: 'das' },
            { kor: '음식/식사', sin: 'das Essen', plu: 'die Essen', gen: 'das' },
            { kor: '빵', sin: 'das Brot', plu: 'die Brote', gen: 'das' },
            { kor: '흰 빵', sin: 'das Weißbrot', plu: 'die Weißbrote', gen: 'das' },
            { kor: '검은 빵', sin: 'das Schwarzbrot', plu: 'die Schwarzbrote', gen: 'das' },
            { kor: '롤빵', sin: 'das Brötchen', plu: 'die Brötchen', gen: 'das' },
            { kor: '킬로그램', sin: 'das Kilogramm', plu: 'die Kilogramm', gen: 'das' },
            { kor: '퍼센트', sin: 'das Prozent', plu: 'die Prozente', gen: 'das' },
            { kor: '아침식사', sin: 'das Frühstück', plu: 'die Frühstücke', gen: 'das' },
            { kor: '계란', sin: 'das Ei', plu: 'die Eier', gen: 'das' },
            { kor: '버터 바른 빵', sin: 'das Butterbrot', plu: 'die Butterbrote', gen: 'das' },
            { kor: '저녁(식사)', sin: 'das Abendbrot', plu: '(nur Sg.)', gen: 'das' },
            { kor: '음료', sin: 'das Getränk', plu: 'die Getränke', gen: 'das' },
            { kor: '닭고기', sin: 'das Hähnchen', plu: 'die Hähnchen', gen: 'das' },
            { kor: '물', sin: 'das Wasser', plu: '(nur Sg.)', gen: 'das' },
            { kor: '탄산수', sin: 'das Mineralwasser', plu: '(nur Sg.)', gen: 'das' },
            { kor: '아이스크림', sin: 'das Eis', plu: '(nur Sg.)', gen: 'das' },
            { kor: '식료품', sin: 'das Lebensmittel', plu: 'die Lebensmittel', gen: 'das' },
            { kor: '독일인', sin: 'der / die Deutsche', plu: 'die Deutschen', gen: 'der/die' },
            { kor: '케첩', sin: 'der / das Ketschup', plu: '(nur Sg.)', gen: 'der/das' }
        ];

        let currentFilter = 'all';
        let searchTerm = '';
        
        const counts = vocabData.reduce((acc, word) => {
            if (word.gen.includes('der')) acc.der++;
            if (word.gen.includes('die')) acc.die++;
            if (word.gen.includes('das')) acc.das++;
            return acc;
        }, { der: 0, die: 0, das: 0 });

        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('searchInput');
            const vocabListContainer = document.getElementById('vocabListContainer');
            const resultCount = document.getElementById('resultCount');
            const filterButtons = document.querySelectorAll('#filterButtons .filter-btn');

            document.getElementById('totalCount').textContent = vocabData.length;
            document.getElementById('derCount').textContent = counts.der;
            document.getElementById('dieCount').textContent = counts.die;
            document.getElementById('dasCount').textContent = counts.das;

            createGenderChart();
            renderVocabList();

            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    currentFilter = button.dataset.filter;
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    renderVocabList();
                });
            });

            searchInput.addEventListener('input', (e) => {
                searchTerm = e.target.value.toLowerCase();
                renderVocabList();
            });
        });

        function createGenderChart() {
            const ctx = document.getElementById('genderChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['DER (남성)', 'DIE (여성)', 'DAS (중성)'],
                    datasets: [{
                        label: '성별 분포',
                        data: [counts.der, counts.die, counts.das],
                        backgroundColor: [
                            '#3B82F6',
                            '#EF4444',
                            '#10B981'
                        ],
                        borderColor: '#FFFFFF',
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + '개';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function getCardClass(gender) {
            if (gender === 'der') return 'card-der';
            if (gender === 'die') return 'card-die';
            if (gender === 'das') return 'card-das';
            return 'card-multi';
        }

        function renderVocabList() {
            let filteredData = vocabData;

            if (currentFilter !== 'all') {
                filteredData = filteredData.filter(d => d.gen.includes(currentFilter));
            }

            if (searchTerm) {
                filteredData = filteredData.filter(d => 
                    d.kor.toLowerCase().includes(searchTerm) ||
                    d.sin.toLowerCase().includes(searchTerm) ||
                    d.plu.toLowerCase().includes(searchTerm)
                );
            }

            vocabListContainer.innerHTML = '';
            
            if (filteredData.length === 0) {
                vocabListContainer.innerHTML = `<p class="text-slate-500 col-span-full text-center">검색 결과가 없습니다.</p>`;
            } else {
                filteredData.forEach(word => {
                    const cardClass = getCardClass(word.gen);
                    const card = `
                        <div class="vocab-card ${cardClass} bg-white p-4 rounded-lg shadow-sm">
                            <h3 class="text-lg font-semibold text-slate-800">${word.sin}</h3>
                            <p class="text-sm font-medium text-slate-500">${word.kor}</p>
                            <p class="text-sm text-slate-700 mt-2">
                                <span class="font-medium">복수형:</span> ${word.plu}
                            </p>
                        </div>
                    `;
                    vocabListContainer.innerHTML += card;
                });
            }

            resultCount.textContent = filteredData.length;
        }

    </script>
</body>
</html>
